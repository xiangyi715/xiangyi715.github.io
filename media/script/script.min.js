function hitokoto(){var e=new XMLHttpRequest;e.open("get","https://v1.hitokoto.cn"),e.onreadystatechange=function(){if(4===e.readyState){var t=JSON.parse(e.responseText),o=document.getElementById("hitokoto");o.innerText=t.hitokoto}},e.send()}function getStar(){var e=document.getElementById("star"),t=0,o="https://api.github.com/users/ITJoker233/repos?page=",n=new XMLHttpRequest;n.open("get",o),n.onreadystatechange=function(){if(4===n.readyState)for(var o=JSON.parse(n.responseText),a=0;a<o.length;a++)if("Gridea-theme-Chic"==o[a].name){t=o[a].stargazers_count;for(var r=0;r<parseInt(t)+1;r++)setTimeout(e.innerHTML=r.toString(),500);break}},n.send()}function CheckVersion(){var e=new XMLHttpRequest;e.open("get","https://api.github.com/repos/ITJoker233/Gridea-theme-Chic/releases/latest"),e.onreadystatechange=function(){if(4===e.readyState){var t=JSON.parse(e.responseText),o=document.getElementById("version").innerText.trim(),n=document.getElementById("update").innerText.trim(),a=document.getElementById("hitokoto"),r=new RegExp("重要更新");"on"==n?(""==o&&(a.innerText="因为新版本特性,请重新点击下主题->自定义配置->保存 或参考最新的README.md"),t.tag_name!=o?(console.log("🎉Current Theme Version: "+o),a.innerText="请及时更新当前版本为："+o+" 最新版本为："+t.tag_name):console.log("\n %c🎉Latest Version: "+t.tag_name+"\n\n","color: #ffffff; background: rgba(49, 49, 49, 0.85); padding:5px 0;border-radius:5px;")):"off"==n&&r.test(t.body)&&(console.log("🎉Current Theme Version: "+o),a.innerText="有重大更新，请及时更新当前版本为："+o+" 最新版本为："+t.tag_name)}},e.send()}function getStyle(e,t){return window.getComputedStyle?window.getComputedStyle(e,null)[t]:e.currentStyle[t]}(function(){var e=!(!window.attachEvent||window.opera),t=/webkit\/(\d+)/i.test(navigator.userAgent)&&RegExp.$1<525,o=[],n=function(){for(var e=0;e<o.length;e++)o[e]()},a=document;a.ready=function(r){if(!e&&!t&&a.addEventListener)return a.addEventListener("DOMContentLoaded",r,!1);if(!(o.push(r)>1))if(e)(function(){try{a.documentElement.doScroll("left"),n()}catch(e){setTimeout(arguments.callee,0)}})();else if(t)var d=setInterval(function(){/^(loaded|complete)$/.test(a.readyState)&&(clearInterval(d),n())},0)}})(),document.ready(function(){var e=window._Blog||{};const t=window.localStorage&&window.localStorage.getItem("theme"),o="dark"===t;var n=document.getElementById("mobile-toggle-theme-zh"),a=document.getElementById("mobile-toggle-theme-en"),r=getStyle(a,"display");o?(document.getElementById("switch_default").checked=!1,"inline"==r?a.innerText="·Dark":n.innerText="·暗黑"):(document.getElementById("switch_default").checked=!0,"inline"==r?a.innerText="·Light":n.innerText="·日间"),e.toggleTheme=function(){o?(document.getElementsByTagName("body")[0].classList.add("dark-theme"),"inline"==r?a.innerText="·Dark":n.innerText="·暗黑"):(document.getElementsByTagName("body")[0].classList.remove("dark-theme"),"inline"==r?a.innerText="·Light":n.innerText="·日间"),document.getElementsByClassName("toggleBtn")[0].addEventListener("click",()=>{document.getElementsByTagName("body")[0].classList.contains("dark-theme")?document.getElementsByTagName("body")[0].classList.remove("dark-theme"):document.getElementsByTagName("body")[0].classList.add("dark-theme"),window.localStorage&&window.localStorage.setItem("theme",document.body.classList.contains("dark-theme")?"dark":"light");const e=window.localStorage&&window.localStorage.getItem("theme");for(var t=[home_Path+message_Path+"model/tororo/assets/moc/tororo.2048/texture_00.png",home_Path+message_Path+"model/tororo/assets/moc/tororo.2048/texture_01.png"],o=[],n=t.length,a=0,r=0;r<n;r++)o[r]=new Image,o[r].src=t[r],o[r].onload=function(){if(a++,a===n){var t=localStorage.getItem("live2dhidden");"0"===t?setTimeout(function(){$("#open_live2d").fadeIn(20)},130):setTimeout(function(){$("#landlord").fadeIn(20)},130),setTimeout(function(){"dark"==e?loadlive2d("live2d",message_Path+"model/tororo/assets/tororo.model_light.json"):loadlive2d("live2d",message_Path+"model/tororo/assets/tororo.model_dark.json")},100),o=null}}}),a.addEventListener("click",()=>{document.getElementsByTagName("body")[0].classList.contains("dark-theme")?(document.getElementsByTagName("body")[0].classList.remove("dark-theme"),"inline"==r?a.innerText="·Light":n.innerText="·日间"):(document.getElementsByTagName("body")[0].classList.add("dark-theme"),"inline"==r?a.innerText="·Dark":n.innerText="·暗黑"),window.localStorage&&window.localStorage.setItem("theme",document.body.classList.contains("dark-theme")?"dark":"light");const e=window.localStorage&&window.localStorage.getItem("theme");for(var t=[home_Path+message_Path+"model/tororo/assets/moc/tororo.2048/texture_00.png",home_Path+message_Path+"model/tororo/assets/moc/tororo.2048/texture_01.png"],o=[],d=t.length,s=0,i=0;i<d;i++)o[i]=new Image,o[i].src=t[i],o[i].onload=function(){if(s++,s===d){var t=localStorage.getItem("live2dhidden");"0"===t?setTimeout(function(){$("#open_live2d").fadeIn(20)},130):setTimeout(function(){$("#landlord").fadeIn(20)},130),setTimeout(function(){"dark"==e?loadlive2d("live2d",message_Path+"model/tororo/assets/tororo.model_light.json"):loadlive2d("live2d",message_Path+"model/tororo/assets/tororo.model_dark.json")},100),o=null}}}),n.addEventListener("click",()=>{document.getElementsByTagName("body")[0].classList.contains("dark-theme")?(document.getElementsByTagName("body")[0].classList.remove("dark-theme"),"inline"==r?a.innerText="·Light":n.innerText="·日间"):(document.getElementsByTagName("body")[0].classList.add("dark-theme"),"inline"==r?a.innerText="·Dark":n.innerText="·暗黑"),window.localStorage&&window.localStorage.setItem("theme",document.body.classList.contains("dark-theme")?"dark":"light");const e=window.localStorage&&window.localStorage.getItem("theme");for(var t=[home_Path+message_Path+"model/tororo/assets/moc/tororo.2048/texture_00.png",home_Path+message_Path+"model/tororo/assets/moc/tororo.2048/texture_01.png"],o=[],d=t.length,s=0,i=0;i<d;i++)o[i]=new Image,o[i].src=t[i],o[i].onload=function(){if(s++,s===d){var t=localStorage.getItem("live2dhidden");"0"===t?setTimeout(function(){$("#open_live2d").fadeIn(20)},130):setTimeout(function(){$("#landlord").fadeIn(20)},130),setTimeout(function(){"dark"==e?loadlive2d("live2d",message_Path+"model/tororo/assets/tororo.model_light.json"):loadlive2d("live2d",message_Path+"model/tororo/assets/tororo.model_dark.json")},100),o=null}}})},e.toggleTheme()});